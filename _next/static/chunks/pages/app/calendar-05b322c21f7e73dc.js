(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3063],{42e3:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return pe}});var n=r(50029),a=r(87794),l=r.n(a),o=r(67294),i=r(98396),c=r(11057),d=r(64666),s=r(23238),u=r(79309),p=r(11129),f=r(84826),h=r(30767),v=r(35336),g=r(21955),x=r(44239),m=r(7941),y=r(84003),b=(0,r(90948).ZP)("div")((function(e){var t=e.theme;return{"& .fc-license-message":{display:"none"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-today-bg-color":"dark"===t.palette.mode?t.palette.dark[800]:t.palette.primary.light,"--fc-list-event-dot-width":"10px","--fc-event-border-color":t.palette.primary.dark,"--fc-now-indicator-color":t.palette.error.main,color:t.palette.text.primary,fontFamily:t.typography.fontFamily},"& .fc .fc-daygrid-day-top":{display:"grid","& .fc-daygrid-day-number":{textAlign:"center",marginTop:12,marginBottom:12}},"& .fc .fc-col-header-cell":{backgroundColor:"dark"===t.palette.mode?t.palette.dark.main:t.palette.grey[50]},"& .fc .fc-col-header-cell-cushion":{color:t.palette.grey[900],padding:16},"& .fc-direction-ltr .fc-daygrid-event.fc-event-end, .fc-direction-rtl .fc-daygrid-event.fc-event-start":{marginLeft:4,marginBottom:6,borderRadius:"6px"},"& .fc-direction-ltr .fc-daygrid-event.fc-event-start, .fc-direction-rtl .fc-daygrid-event.fc-event-end":{marginLeft:4,marginBottom:6,borderRadius:"6px"},"& .fc-h-event .fc-event-main":{padding:4,paddingLeft:8},"& .fc .fc-more-popover":{border:"none",borderRadius:"14px"},"& .fc .fc-more-popover .fc-popover-body":{backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[200],borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},"& .fc .fc-popover-header":{padding:12,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[200],color:"dark"===t.palette.mode?t.palette.dark.light:t.palette.text.primary},"& .fc-theme-standard .fc-list-day-cushion":{backgroundColor:"dark"===t.palette.mode?t.palette.dark.main:t.palette.grey[100]},"& .fc .fc-list-event:hover td":{backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[100]},"& .fc-timegrid-event-harness-inset .fc-timegrid-event, .fc-timegrid-event.fc-event-mirror, .fc-timegrid-more-link":{padding:8,margin:2}}})),j=r(59499),Z=r(4730),k=r(86886),w=r(26447),C=r(93946),P=r(15861),D=r(56863),O=r(21023),E=r(32912),T=r(63991),S=r(85893),M=["date","view","onClickNext","onClickPrev","onClickToday","onChangeView","sx"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=[{label:"Month",value:"dayGridMonth",icon:T.lp2},{label:"Week",value:"timeGridWeek",icon:T._9F},{label:"Day",value:"timeGridDay",icon:T.fO6},{label:"Agenda",value:"listWeek",icon:T.TuC}],F=function(e){var t=e.date,r=e.view,n=e.onClickNext,a=e.onClickPrev,l=e.onClickToday,o=e.onChangeView,i=(e.sx,(0,Z.Z)(e,M));return(0,S.jsxs)(k.ZP,A(A({alignItems:"center",container:!0,justifyContent:"space-between",spacing:3},i),{},{sx:{pb:3},children:[(0,S.jsx)(k.ZP,{item:!0,children:(0,S.jsx)(c.Z,{variant:"outlined",onClick:l,children:"Today"})}),(0,S.jsx)(k.ZP,{item:!0,children:(0,S.jsxs)(w.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,S.jsx)(C.Z,{onClick:a,size:"large",children:(0,S.jsx)(T.ed9,{})}),(0,S.jsx)(P.Z,{variant:"h3",color:"textPrimary",children:(0,E.Z)(t,"MMMM yyyy")}),(0,S.jsx)(C.Z,{onClick:n,size:"large",children:(0,S.jsx)(T.VG8,{})})]})}),(0,S.jsx)(k.ZP,{item:!0,children:(0,S.jsx)(D.Z,{variant:"outlined","aria-label":"outlined button group",children:R.map((function(e){var t=e.icon;return(0,S.jsx)(O.Z,{title:e.label,children:(0,S.jsx)(c.Z,{disableElevation:!0,variant:e.value===r?"contained":"outlined",onClick:function(){return o(e.value)},children:(0,S.jsx)(t,{stroke:"2",size:"1.3rem"})})},e.value)}))})})]}))},I=r(2734),W=r(37645),B=r(67720),N=r(6514),V=r(50135),L=r(50480),z=r(72852),G=r(87109),q=r(94054),J=r(68061),U=r(36872),X=r(31425),H=r(5344),K=r(31415),Q=r(25613),Y=r(96486),$=r.n(Y),ee=r(74231),te=r(82175),re=function(e){var t=e.color,r=e.label,n=e.value;return(0,S.jsx)(L.Z,{value:n,control:(0,S.jsx)(U.Z,{sx:{color:t,"&.Mui-checked":{color:t}}}),label:r||"",sx:{pr:r?1:0}})},ne=r(86924),ae=r(21075),le=r(41733);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=function(e,t){var r={title:"",description:"",color:"#2196f3",textColor:"",allDay:!1,start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date};return e||t?$().merge({},r,e):r},de=function(e){var t=e.event,r=e.range,a=e.handleDelete,o=e.handleCreate,i=e.handleUpdate,d=e.onCancel,s=(0,I.Z)(),u=!t,p=[{value:s.palette.primary.main,color:"primary.main",label:"Default"},{value:s.palette.error.main,color:"error.main"},{value:s.palette.success.dark,color:"success.dark"},{value:s.palette.secondary.main,color:"secondary.main"},{value:s.palette.warning.dark,color:"warning.dark"},{value:s.palette.orange.dark,color:"orange.dark"},{value:s.palette.grey[500],color:"grey.500"},{value:s.palette.primary.light,color:"primary.light"},{value:s.palette.error.light,color:"error.light"},{value:s.palette.success.light,color:"success.light"},{value:s.palette.secondary.light,color:"secondary.light"},{value:s.palette.warning.light,color:"warning.light"},{value:s.palette.orange.light,color:"orange.light"}],f=[{value:s.palette.error.light,color:"error.light",label:""},{value:s.palette.success.light,color:"success.light",label:""},{value:s.palette.secondary.light,color:"secondary.light",label:""},{value:s.palette.warning.light,color:"warning.light",label:""},{value:s.palette.orange.light,color:"orange.light",label:""},{value:s.palette.primary.light,color:"primary.light",label:""},{value:s.palette.primary.main,color:"primary.main",label:""},{value:s.palette.error.main,color:"error.main",label:""},{value:s.palette.success.dark,color:"success.dark",label:""},{value:s.palette.secondary.main,color:"secondary.main",label:""},{value:s.palette.warning.dark,color:"warning.dark",label:""},{value:s.palette.orange.dark,color:"orange.dark",label:""},{value:s.palette.grey[500],color:"grey.500",label:""}],h=ee.Ry().shape({title:ee.Z_().max(255).required("Title is required"),description:ee.Z_().max(5e3),end:ee.hT().when("start",(function(e,t){return e&&t.min(e,"End date must be later than start date")})),start:ee.hT(),color:ee.Z_().max(255),textColor:ee.Z_().max(255)}),v=(0,te.TA)({initialValues:ce(t,r),validationSchema:h,onSubmit:function(){var e=(0,n.Z)(l().mark((function e(r,n){var a,c,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.resetForm,c=n.setSubmitting;try{s={title:r.title,description:r.description,color:r.color,textColor:r.textColor,allDay:r.allDay,start:r.start,end:r.end},t?i(t.id,s):o(s),a(),d(),c(!1)}catch(l){console.error(l)}case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}),g=v.values,x=v.errors,m=v.touched,y=v.handleSubmit,b=v.isSubmitting,j=v.getFieldProps,Z=v.setFieldValue;return(0,S.jsx)(te.Hy,{value:v,children:(0,S.jsx)(H.Z,{dateAdapter:Q.Z,children:(0,S.jsxs)(te.l0,{autoComplete:"off",noValidate:!0,onSubmit:y,children:[(0,S.jsx)(W.Z,{children:t?"Edit Event":"Add Event"}),(0,S.jsx)(B.Z,{}),(0,S.jsx)(N.Z,{sx:{p:3},children:(0,S.jsxs)(k.ZP,{container:!0,spacing:ne.dv,children:[(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsx)(V.Z,ie(ie({fullWidth:!0,label:"Title"},j("title")),{},{error:Boolean(m.title&&x.title),helperText:m.title&&x.title}))}),(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsx)(V.Z,ie(ie({fullWidth:!0,multiline:!0,rows:3,label:"Description"},j("description")),{},{error:Boolean(m.description&&x.description),helperText:m.description&&x.description}))}),(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsx)(L.Z,{control:(0,S.jsx)(z.Z,ie({checked:g.allDay},j("allDay"))),label:"All day"})}),(0,S.jsx)(k.ZP,{item:!0,xs:12,md:6,children:(0,S.jsx)(K.Z,{label:"Start date",value:g.start,inputFormat:"dd/MM/yyyy hh:mm a",onChange:function(e){return Z("start",e)},renderInput:function(e){return(0,S.jsx)(V.Z,ie(ie({},e),{},{fullWidth:!0,InputProps:{endAdornment:(0,S.jsx)(G.Z,{position:"end",children:(0,S.jsx)(ae.Z,{})})}}))}})}),(0,S.jsx)(k.ZP,{item:!0,xs:12,md:6,children:(0,S.jsx)(K.Z,{label:"End date",value:g.end,inputFormat:"dd/MM/yyyy hh:mm a",onChange:function(e){return Z("end",e)},renderInput:function(e){return(0,S.jsx)(V.Z,ie(ie({},e),{},{fullWidth:!0,error:Boolean(m.end&&x.end),helperText:m.end&&x.end,InputProps:{endAdornment:(0,S.jsx)(G.Z,{position:"end",children:(0,S.jsx)(ae.Z,{})})}}))}})}),(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsxs)(k.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsx)(P.Z,{variant:"subtitle1",children:"Background Color"})}),(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsx)(q.Z,{children:(0,S.jsx)(J.Z,ie(ie({row:!0,"aria-label":"color"},j("color")),{},{onChange:function(e){return Z("color",e.target.value)},name:"color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:0}},children:p.map((function(e,t){return(0,S.jsx)(re,{value:e.value,color:e.color,label:e.label},t)}))}))})})]})}),(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsxs)(k.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsx)(P.Z,{variant:"subtitle1",children:"Text Color"})}),(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsx)(q.Z,{component:"fieldset",children:(0,S.jsxs)(J.Z,ie(ie({row:!0,"aria-label":"textColor"},j("textColor")),{},{onChange:function(e){return Z("textColor",e.target.value)},name:"text-color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:0}},children:[(0,S.jsx)(L.Z,{value:"",control:(0,S.jsx)(U.Z,{color:"default"}),label:"Default",sx:{pr:1}}),f.map((function(e,t){return(0,S.jsx)(re,{value:e.value,color:e.color,label:e.label},t)}))]}))})})]})})]})}),(0,S.jsx)(X.Z,{sx:{p:3},children:(0,S.jsxs)(k.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(k.ZP,{item:!0,children:!u&&(0,S.jsx)(O.Z,{title:"Delete Event",children:(0,S.jsx)(C.Z,{onClick:function(){return a(null===t||void 0===t?void 0:t.id)},size:"large",children:(0,S.jsx)(le.Z,{color:"error"})})})}),(0,S.jsx)(k.ZP,{item:!0,children:(0,S.jsxs)(w.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,S.jsx)(c.Z,{type:"button",variant:"outlined",onClick:d,children:"Cancel"}),(0,S.jsx)(c.Z,{type:"submit",variant:"contained",disabled:b,children:t?"Edit":"Add"})]})})]})})]})})})},se=r(49365),ue=function(){var e=(0,g.I0)(),t=(0,o.useRef)(null),r=(0,i.Z)((function(e){return e.breakpoints.down("md")})),a=(0,o.useState)([]),j=a[0],Z=a[1],k=(0,g.v9)((function(e){return e.calendar}));(0,o.useEffect)((function(){e((0,x.vw)())}),[]),(0,o.useEffect)((function(){Z(k.events)}),[k]);var w=(0,o.useState)(new Date),C=w[0],P=w[1],D=(0,o.useState)(r?"listWeek":"dayGridMonth"),O=D[0],E=D[1],T=(0,o.useState)(!1),M=T[0],_=T[1],A=(0,o.useState)(null),R=A[0],I=A[1],W=(0,o.useState)(null),B=W[0],N=W[1],V=function(){_(!1),N(null),I(null)},L=function(){var t=(0,n.Z)(l().mark((function t(r){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.event;try{e((0,x.eJ)({eventId:n.id,update:{allDay:n.allDay,start:n.start,end:n.end}}))}catch(a){console.error(a)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=(0,n.Z)(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((0,x.vP)(r)),V();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=(0,n.Z)(l().mark((function t(r,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((0,x.eJ)({eventId:r,update:n})),V();case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),q=function(){var t=(0,n.Z)(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e((0,x.xC)(r)),V()}catch(n){console.error(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,S.jsxs)(m.Z,{title:"Event Calendar",secondary:(0,S.jsxs)(c.Z,{color:"secondary",variant:"contained",onClick:function(){_(!0)},children:[(0,S.jsx)(se.Z,{fontSize:"small",sx:{mr:.75}}),"Add New Event"]}),children:[(0,S.jsxs)(b,{children:[(0,S.jsx)(F,{date:C,view:O,onClickNext:function(){var e=t.current;if(e){var r=e.getApi();r.next(),P(r.getDate())}},onClickPrev:function(){var e=t.current;if(e){var r=e.getApi();r.prev(),P(r.getDate())}},onClickToday:function(){var e=t.current;if(e){var r=e.getApi();r.today(),P(r.getDate())}},onChangeView:function(e){var r=t.current;r&&(r.getApi().changeView(e),E(e))}}),(0,S.jsx)(y.Z,{children:(0,S.jsx)(s.ZPm,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:j,ref:t,rerenderDelay:10,initialDate:C,initialView:O,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:function(e){var r=t.current;r&&r.getApi().unselect();I({start:e.start,end:e.end}),_(!0)},eventDrop:L,eventClick:function(e){if(e.event.id){var t=j.find((function(t){return t.id===e.event.id}));N(t)}else N(null);_(!0)},eventResize:L,height:r?"auto":720,plugins:[u.Z,p.ZP,h.ZP,f.ZP,v.ZP]})})]}),(0,S.jsx)(d.Z,{maxWidth:"sm",fullWidth:!0,onClose:V,open:M,sx:{"& .MuiDialog-paper":{p:0}},children:M&&(0,S.jsx)(de,{event:B,range:R,onCancel:V,handleDelete:q,handleCreate:z,handleUpdate:G})})]})};ue.Layout="authGuard";var pe=ue},13588:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/calendar",function(){return r(42e3)}])}},function(e){e.O(0,[3662,4870,939,4231,2175,285,2912,7914,9772,1415,5502,9774,2888,179],(function(){return t=13588,e(e.s=t);var t}));var t=e.O();_N_E=t}]);